{"version":3,"file":"Enum.js","sourceRoot":"","sources":["../src/Enum.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;AAE3D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAsCG;AACH,MAAa,IAAI;IACf,gBAAuB,CAAC;IAExB;;;;;;;;;;;;;;;;;OAiBG;IACI,MAAM,CAAC,gBAAgB,CAC5B,UAGC,EACD,GAAW;QAEX,8DAA8D;QAC9D,OAAO,UAAU,CAAC,GAAG,CAAQ,CAAC;IAChC,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,aAAa,CACzB,UAGC,EACD,GAAW;QAEX,8DAA8D;QAC9D,MAAM,MAAM,GAA2B,UAAU,CAAC,GAAG,CAAQ,CAAC;QAC9D,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,MAAM,IAAI,KAAK,CAAC,kBAAkB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;SACzE;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAoCG;IACI,MAAM,CAAC,iBAAiB,CAC7B,UAAuB,EACvB,KAAa;QAEb,8DAA8D;QAC9D,OAAO,UAAU,CAAC,KAAK,CAAQ,CAAC;IAClC,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,cAAc,CAC1B,UAAuB,EACvB,KAAa;QAEb,8DAA8D;QAC9D,MAAM,MAAM,GAAwC,UAAU,CAAC,KAAK,CAAQ,CAAC;QAC7E,IAAI,MAAM,KAAK,SAAS,EAAE;YACxB,MAAM,IAAI,KAAK,CAAC,aAAa,KAAK,gCAAgC,CAAC,CAAC;SACrE;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AA/GD,oBA+GC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\r\n// See LICENSE in the project root for license information.\r\n\r\n/**\r\n * A helper for looking up TypeScript `enum` keys/values.\r\n *\r\n * @remarks\r\n * TypeScript enums implement a lookup table for mapping between their keys and values:\r\n *\r\n * ```ts\r\n * enum Colors {\r\n *   Red = 1\r\n * }\r\n *\r\n * // Prints \"Red\"\r\n * console.log(Colors[1]);\r\n *\r\n * // Prints \"1\"\r\n * console.log(Colors[\"Red]);\r\n * ```\r\n *\r\n * However the compiler's \"noImplicitAny\" validation has trouble with these mappings, because\r\n * there are so many possible types for the map elements:\r\n *\r\n * ```ts\r\n * function f(s: string): Colors | undefined {\r\n *   // (TS 7015) Element implicitly has an 'any' type because\r\n *   // index expression is not of type 'number'.\r\n *   return Colors[s];\r\n * }\r\n * ```\r\n *\r\n * The `Enum` helper provides a more specific, strongly typed way to access members:\r\n *\r\n * ```ts\r\n * function f(s: string): Colors | undefined {\r\n *   return Enum.tryGetValueByKey(Colors, s);\r\n * }\r\n * ```\r\n *\r\n * @public\r\n */\r\nexport class Enum {\r\n  private constructor() {}\r\n\r\n  /**\r\n   * Returns an enum value, given its key. Returns `undefined` if no matching key is found.\r\n   *\r\n   * @example\r\n   *\r\n   * Example usage:\r\n   * ```ts\r\n   * enum Colors {\r\n   *   Red = 1\r\n   * }\r\n   *\r\n   * // Prints \"1\"\r\n   * console.log(Enum.tryGetValueByKey(Colors, \"Red\"));\r\n   *\r\n   * // Prints \"undefined\"\r\n   * console.log(Enum.tryGetValueByKey(Colors, \"Black\"));\r\n   * ```\r\n   */\r\n  public static tryGetValueByKey<TEnumValue>(\r\n    enumObject: {\r\n      [key: string]: TEnumValue | string;\r\n      [key: number]: TEnumValue | string;\r\n    },\r\n    key: string\r\n  ): TEnumValue | undefined {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return enumObject[key] as any;\r\n  }\r\n\r\n  /**\r\n   * This API is similar to {@link Enum.tryGetValueByKey}, except that it throws an exception\r\n   * if the key is undefined.\r\n   */\r\n  public static getValueByKey<TEnumValue>(\r\n    enumObject: {\r\n      [key: string]: TEnumValue | string;\r\n      [key: number]: TEnumValue | string;\r\n    },\r\n    key: string\r\n  ): TEnumValue {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const result: TEnumValue | undefined = enumObject[key] as any;\r\n    if (result === undefined) {\r\n      throw new Error(`The lookup key ${JSON.stringify(key)} is not defined`);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Returns an enum string key, given its numeric value.  Returns `undefined` if no matching value\r\n   * is found.\r\n   *\r\n   * @remarks\r\n   * The TypeScript compiler only creates a reverse mapping for enum members whose value is numeric.\r\n   * For example:\r\n   *\r\n   * ```ts\r\n   * enum E {\r\n   *   A = 1,\r\n   *   B = 'c'\r\n   * }\r\n   *\r\n   * // Prints \"A\"\r\n   * console.log(E[1]);\r\n   *\r\n   * // Prints \"undefined\"\r\n   * console.log(E[\"c\"]);\r\n   * ```\r\n   *\r\n   * @example\r\n   *\r\n   * Example usage:\r\n   * ```ts\r\n   * enum Colors {\r\n   *   Red = 1,\r\n   *   Blue = 'blue'\r\n   * }\r\n   *\r\n   * // Prints \"Red\"\r\n   * console.log(Enum.tryGetKeyByNumber(Colors, 1));\r\n   *\r\n   * // Prints \"undefined\"\r\n   * console.log(Enum.tryGetKeyByNumber(Colors, -1));\r\n   * ```\r\n   */\r\n  public static tryGetKeyByNumber<TEnumValue, TEnumObject extends { [key: string]: TEnumValue }>(\r\n    enumObject: TEnumObject,\r\n    value: number\r\n  ): keyof typeof enumObject | undefined {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    return enumObject[value] as any;\r\n  }\r\n\r\n  /**\r\n   * This API is similar to {@link Enum.tryGetKeyByNumber}, except that it throws an exception\r\n   * if the key is undefined.\r\n   */\r\n  public static getKeyByNumber<TEnumValue, TEnumObject extends { [key: string]: TEnumValue }>(\r\n    enumObject: TEnumObject,\r\n    value: number\r\n  ): keyof typeof enumObject {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const result: keyof typeof enumObject | undefined = enumObject[value] as any;\r\n    if (result === undefined) {\r\n      throw new Error(`The value ${value} does not exist in the mapping`);\r\n    }\r\n    return result;\r\n  }\r\n}\r\n"]}